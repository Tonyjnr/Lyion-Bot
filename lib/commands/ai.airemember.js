const a0_0x1fdacf=a0_0x5c27;(function(_0x435975,_0x2fb55f){const _0x14c362=a0_0x5c27,_0x1c089b=_0x435975();while(!![]){try{const _0x38cdd5=-parseInt(_0x14c362(0x9a))/0x1+-parseInt(_0x14c362(0xab))/0x2*(parseInt(_0x14c362(0x98))/0x3)+-parseInt(_0x14c362(0x86))/0x4*(-parseInt(_0x14c362(0xa6))/0x5)+parseInt(_0x14c362(0x8f))/0x6+-parseInt(_0x14c362(0x97))/0x7*(-parseInt(_0x14c362(0x8c))/0x8)+-parseInt(_0x14c362(0x88))/0x9*(-parseInt(_0x14c362(0x90))/0xa)+parseInt(_0x14c362(0xa4))/0xb*(-parseInt(_0x14c362(0xa7))/0xc);if(_0x38cdd5===_0x2fb55f)break;else _0x1c089b['push'](_0x1c089b['shift']());}catch(_0x5ea2d1){_0x1c089b['push'](_0x1c089b['shift']());}}}(a0_0x1491,0x6dbf2));const fs=require('fs')['promises'],path=require('path'),memoryFilePath=path[a0_0x1fdacf(0xac)](__dirname,'..',a0_0x1fdacf(0x89),a0_0x1fdacf(0x9b));function a0_0x5c27(_0x327c41,_0x3616d3){const _0x149179=a0_0x1491();return a0_0x5c27=function(_0x5c276b,_0x59f7f4){_0x5c276b=_0x5c276b-0x86;let _0x24e7ed=_0x149179[_0x5c276b];return _0x24e7ed;},a0_0x5c27(_0x327c41,_0x3616d3);}async function readMemory(){const _0x598ef8=a0_0x1fdacf;try{const _0x59abfa=await fs['readFile'](memoryFilePath,_0x598ef8(0x9c));return JSON[_0x598ef8(0x92)](_0x59abfa);}catch(_0x2952f3){if(_0x2952f3[_0x598ef8(0x93)]===_0x598ef8(0xa0))return{'global':{},'users':{}};return console[_0x598ef8(0x95)](_0x598ef8(0x99),_0x2952f3),{'global':{},'users':{}};}}function a0_0x1491(){const _0x1902ad=['code','Manages\x20the\x20AI\x27s\x20long-term\x20and\x20short-term\x20memory.','error','Error\x20writing\x20AI\x20memory:','5840639CRiDtw','12ucNZAi','Error\x20reading\x20AI\x20memory:','213489mCxkZX','ai-memory.json','utf8','writeFile','reply','Invalid\x20action.\x20Use\x20`view`,\x20`forget`,\x20or\x20`clearmem`.','ENOENT','sender','No\x20personal\x20memories\x20found.','forget','88sBpYil','exports','40MGbEyi','1698456xPJcJe','You\x20have\x20no\x20personal\x20memories\x20to\x20clear.','Your\x20personal\x20long-term\x20memory\x20has\x20been\x20cleared.','stringify','61208WKchrl','join','256512JIfQrH','users','18AhgOqQ','database','The\x20AI\x27s\x20short-term\x20memory\x20of\x20this\x20conversation\x20has\x20been\x20cleared.','airemember','8JIyHLN','global','clearmem','1400208PCtXBk','1684810ojOcDU','*AI\x20Memory:*\x0a\x0a*Your\x20Personal\x20Memory:*\x0a','parse'];a0_0x1491=function(){return _0x1902ad;};return a0_0x1491();}async function writeMemory(_0x1924f7){const _0x551e59=a0_0x1fdacf;try{await fs[_0x551e59(0x9d)](memoryFilePath,JSON[_0x551e59(0xaa)](_0x1924f7,null,0x2));}catch(_0x533a53){console[_0x551e59(0x95)](_0x551e59(0x96),_0x533a53);}}module[a0_0x1fdacf(0xa5)]={'name':a0_0x1fdacf(0x8b),'ownerOnly':![],'category':'ai','usePrefix':!![],'description':a0_0x1fdacf(0x94),'execute':async(_0x16608f,_0x29237,_0x4fc67d)=>{const _0x4db2b0=a0_0x1fdacf,_0x160d9f=_0x4fc67d[0x0],_0x3dd863=_0x29237[_0x4db2b0(0xa1)];let _0x3e8741=await readMemory();switch(_0x160d9f){case'view':const _0x1d4143=_0x3e8741[_0x4db2b0(0x87)][_0x3dd863]||_0x4db2b0(0xa2),_0x3ff498=_0x3e8741[_0x4db2b0(0x8d)]||'No\x20global\x20memories\x20found.';await _0x29237[_0x4db2b0(0x9e)](_0x4db2b0(0x91)+JSON['stringify'](_0x1d4143,null,0x2)+'\x0a\x0a*Global\x20Memory:*\x0a'+JSON[_0x4db2b0(0xaa)](_0x3ff498,null,0x2));break;case _0x4db2b0(0xa3):_0x3e8741[_0x4db2b0(0x87)][_0x3dd863]?(delete _0x3e8741[_0x4db2b0(0x87)][_0x3dd863],await writeMemory(_0x3e8741),await _0x29237['reply'](_0x4db2b0(0xa9))):await _0x29237[_0x4db2b0(0x9e)](_0x4db2b0(0xa8));break;case _0x4db2b0(0x8e):await _0x29237['reply'](_0x4db2b0(0x8a));break;default:await _0x29237[_0x4db2b0(0x9e)](_0x4db2b0(0x9f));break;}}};