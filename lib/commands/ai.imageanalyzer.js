const a0_0x438ad5=a0_0x3d60;(function(_0x5215ce,_0x13567a){const _0x4a736d=a0_0x3d60,_0x1193fb=_0x5215ce();while(!![]){try{const _0x106d90=-parseInt(_0x4a736d(0xd6))/0x1*(-parseInt(_0x4a736d(0xc5))/0x2)+parseInt(_0x4a736d(0xc8))/0x3+parseInt(_0x4a736d(0xc1))/0x4+parseInt(_0x4a736d(0xb9))/0x5*(-parseInt(_0x4a736d(0xc7))/0x6)+parseInt(_0x4a736d(0xdc))/0x7+-parseInt(_0x4a736d(0xbc))/0x8+parseInt(_0x4a736d(0xc2))/0x9*(parseInt(_0x4a736d(0xcc))/0xa);if(_0x106d90===_0x13567a)break;else _0x1193fb['push'](_0x1193fb['shift']());}catch(_0xfdc389){_0x1193fb['push'](_0x1193fb['shift']());}}}(a0_0x3aa9,0xc6789));const {downloadContentFromMessage}=require(a0_0x438ad5(0xd1)),{GoogleGenerativeAI}=require('@google/generative-ai'),fs=require('fs')[a0_0x438ad5(0xbf)],path=require(a0_0x438ad5(0xc4)),genAI=new GoogleGenerativeAI(global['geminiApiKey']);async function fileToGenerativePart(_0x552d13,_0x56e9ee){const _0x46255b=a0_0x438ad5,_0x5e7ed1=await fs[_0x46255b(0xc3)](_0x552d13,{'encoding':_0x46255b(0xd9)});return{'inlineData':{'data':_0x5e7ed1,'mimeType':_0x56e9ee}};}function a0_0x3aa9(){const _0x5396ba=['19700CsMGjh','now','Image\x20Analyzer\x20error:','mimetype','writeFile','@fizzxydev/baileys-pro','test','🖼️\x20Analyzing\x20the\x20image,\x20one\x20moment...','response','./tmp','12899NAbtyJ','join','gemini-pro-vision','base64','generateContent','msg','1758610gtktRj','5YoZqot','from','exports','8854448USgniw','unlink','.jpg','promises','getGenerativeModel','3539148nWnmnO','675MaZhdU','readFile','path','142TXPRpi','text','5105976jeCrnQ','1713429uyBnBR','reply','Sorry,\x20I\x20had\x20trouble\x20analyzing\x20that\x20image.\x20Please\x20try\x20again.','quoted'];a0_0x3aa9=function(){return _0x5396ba;};return a0_0x3aa9();}function a0_0x3d60(_0x494a76,_0x5da1a5){const _0x3aa99c=a0_0x3aa9();return a0_0x3d60=function(_0x3d605a,_0x850d70){_0x3d605a=_0x3d605a-0xb9;let _0x1df51b=_0x3aa99c[_0x3d605a];return _0x1df51b;},a0_0x3d60(_0x494a76,_0x5da1a5);}module[a0_0x438ad5(0xbb)]={'name':'analyzeimage','ownerOnly':![],'category':'ai','usePrefix':!![],'description':'Uses\x20AI\x20to\x20analyze\x20and\x20describe\x20an\x20image.','execute':async(_0x4f377e,_0x4394e9)=>{const _0x250623=a0_0x438ad5,_0xf366bf=_0x4394e9[_0x250623(0xcb)]?_0x4394e9[_0x250623(0xcb)]:_0x4394e9,_0x45f1af=(_0xf366bf[_0x250623(0xdb)]||_0xf366bf)[_0x250623(0xcf)]||'';if(!/image/[_0x250623(0xd2)](_0x45f1af))return _0x4394e9[_0x250623(0xc9)]('Please\x20reply\x20to\x20an\x20image\x20to\x20use\x20this\x20command.');await _0x4394e9[_0x250623(0xc9)](_0x250623(0xd3));try{const _0x3467f9=await downloadContentFromMessage(_0xf366bf[_0x250623(0xdb)],'image');let _0x4f52d7=Buffer[_0x250623(0xba)]([]);for await(const _0x3927a5 of _0x3467f9){_0x4f52d7=Buffer['concat']([_0x4f52d7,_0x3927a5]);}const _0x1eb09b=path[_0x250623(0xd7)](_0x250623(0xd5),Date[_0x250623(0xcd)]()+_0x250623(0xbe));await fs[_0x250623(0xd0)](_0x1eb09b,_0x4f52d7);const _0x3919b7=genAI[_0x250623(0xc0)]({'model':_0x250623(0xd8)}),_0x21e591='Describe\x20this\x20image\x20in\x20detail.',_0x2987ca=await fileToGenerativePart(_0x1eb09b,_0x45f1af),_0x4d8854=await _0x3919b7[_0x250623(0xda)]([_0x21e591,_0x2987ca]),_0x2e9228=await _0x4d8854[_0x250623(0xd4)],_0x3a6e2=_0x2e9228[_0x250623(0xc6)]();await _0x4394e9['reply'](_0x3a6e2),await fs[_0x250623(0xbd)](_0x1eb09b);}catch(_0x2002ce){console['error'](_0x250623(0xce),_0x2002ce),await _0x4394e9['reply'](_0x250623(0xca));}}};