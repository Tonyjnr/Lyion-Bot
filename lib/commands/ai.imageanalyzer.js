const a0_0x173b07=a0_0x3a25;function a0_0x3a25(_0x3cbe70,_0x59d23e){const _0x50752e=a0_0x5075();return a0_0x3a25=function(_0x3a25b7,_0x4d69ba){_0x3a25b7=_0x3a25b7-0xf4;let _0x30ce17=_0x50752e[_0x3a25b7];return _0x30ce17;},a0_0x3a25(_0x3cbe70,_0x59d23e);}(function(_0x21963a,_0x28480d){const _0x4ebb16=a0_0x3a25,_0x3c7f7e=_0x21963a();while(!![]){try{const _0x47a2a9=-parseInt(_0x4ebb16(0xfe))/0x1*(-parseInt(_0x4ebb16(0x10c))/0x2)+-parseInt(_0x4ebb16(0x112))/0x3*(-parseInt(_0x4ebb16(0x10f))/0x4)+parseInt(_0x4ebb16(0x107))/0x5*(parseInt(_0x4ebb16(0x102))/0x6)+parseInt(_0x4ebb16(0xff))/0x7*(-parseInt(_0x4ebb16(0x101))/0x8)+parseInt(_0x4ebb16(0x10a))/0x9*(parseInt(_0x4ebb16(0x109))/0xa)+parseInt(_0x4ebb16(0xfa))/0xb+-parseInt(_0x4ebb16(0x108))/0xc;if(_0x47a2a9===_0x28480d)break;else _0x3c7f7e['push'](_0x3c7f7e['shift']());}catch(_0x95ab3a){_0x3c7f7e['push'](_0x3c7f7e['shift']());}}}(a0_0x5075,0x38b37));const {downloadContentFromMessage}=require(a0_0x173b07(0x106)),{GoogleGenerativeAI}=require('@google/generative-ai'),fs=require('fs')['promises'],path=require(a0_0x173b07(0xf8)),genAI=new GoogleGenerativeAI(global['geminiApiKey']);async function fileToGenerativePart(_0x143221,_0x4a57e1){const _0x14f564=a0_0x173b07,_0x29560d=await fs['readFile'](_0x143221,{'encoding':_0x14f564(0x100)});return{'inlineData':{'data':_0x29560d,'mimeType':_0x4a57e1}};}function a0_0x5075(){const _0x1741e7=['msg','from','893456PoTsNg','exports','./tmp','3MzfEwU','gemini-pro-vision','join','🖼️\x20Analyzing\x20the\x20image,\x20one\x20moment...','Sorry,\x20I\x20had\x20trouble\x20analyzing\x20that\x20image.\x20Please\x20try\x20again.','Image\x20Analyzer\x20error:','path','test','1316337bqsJQg','now','image','quoted','39rgCcLY','1831438MwWiNC','base64','8ROjXAS','960YbSdVV','reply','mimetype','generateContent','@fizzxydev/baileys-pro','7605bPtpdX','7398492zlQNFO','810gPrDMg','15993IToRsG','response','19492SoTkFM'];a0_0x5075=function(){return _0x1741e7;};return a0_0x5075();}module[a0_0x173b07(0x110)]={'name':'analyzeimage','ownerOnly':![],'category':'ai','usePrefix':!![],'description':'Uses\x20AI\x20to\x20analyze\x20and\x20describe\x20an\x20image.','execute':async(_0xd543d4,_0x38cb49)=>{const _0x2ab1e8=a0_0x173b07,_0xfb48f1=_0x38cb49[_0x2ab1e8(0xfd)]?_0x38cb49[_0x2ab1e8(0xfd)]:_0x38cb49,_0x1935f8=(_0xfb48f1['msg']||_0xfb48f1)[_0x2ab1e8(0x104)]||'';if(!/image/[_0x2ab1e8(0xf9)](_0x1935f8))return _0x38cb49['reply']('Please\x20reply\x20to\x20an\x20image\x20to\x20use\x20this\x20command.');await _0x38cb49['reply'](_0x2ab1e8(0xf5));try{const _0x5de0f2=await downloadContentFromMessage(_0xfb48f1[_0x2ab1e8(0x10d)],_0x2ab1e8(0xfc));let _0x432a43=Buffer[_0x2ab1e8(0x10e)]([]);for await(const _0x4d80be of _0x5de0f2){_0x432a43=Buffer['concat']([_0x432a43,_0x4d80be]);}const _0x3bb310=path[_0x2ab1e8(0xf4)](_0x2ab1e8(0x111),Date[_0x2ab1e8(0xfb)]()+'.jpg');await fs['writeFile'](_0x3bb310,_0x432a43);const _0x130d7e=genAI['getGenerativeModel']({'model':_0x2ab1e8(0x113)}),_0x579df2='Describe\x20this\x20image\x20in\x20detail.',_0x1d7c1e=await fileToGenerativePart(_0x3bb310,_0x1935f8),_0x31aa02=await _0x130d7e[_0x2ab1e8(0x105)]([_0x579df2,_0x1d7c1e]),_0x35b489=await _0x31aa02[_0x2ab1e8(0x10b)],_0x3ff1d3=_0x35b489['text']();await _0x38cb49[_0x2ab1e8(0x103)](_0x3ff1d3),await fs['unlink'](_0x3bb310);}catch(_0x4c1a51){console['error'](_0x2ab1e8(0xf7),_0x4c1a51),await _0x38cb49[_0x2ab1e8(0x103)](_0x2ab1e8(0xf6));}}};